<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>AJAX app</title>
</head>
<body onload="hash()">
    <h1>AJAX App</h1>
    <ul class="links">
      <li id="link1" onclick="loadData('01.html')">Раздел 1</li>
      <li id="link2" onclick="loadData('02.html')">Раздел 2</li>
      <li id="link3" onclick="loadData('03.html')">Раздел 3</li>
    </ul>
    <hr class="border">
    <div id="app"></div>
    <script>
      function loadData(url) {
        let xhr = new XMLHttpRequest(); //встроенный в браузер объект, который даёт возможность делать HTTP-запросы к серверу без перезагрузки страницы
        xhr.open("GET", url, true);
        xhr.send();
        window.location.hash = url.split('.')[0];
        //console.log(window.hash)
        xhr.onreadystatechange = function() {
            if (xhr.status === 200 && xhr.readyState === 4) {
              document.getElementById('app').innerHTML = xhr.responseText;
            }
            else {
              console.log(Error(xhr.statusText));
            }
        };
      }

      function hash() {
        const hash = window.location.hash.substr(1);
        const url = `${hash}.html`
        // console.log(url)
        loadData(url);
      }
    </script>
</body>
</html>